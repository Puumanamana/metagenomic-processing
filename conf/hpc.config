process {
   executor = 'slurm'
   cpus = 19
   memory = 120.GB
   time = 12.h

   errorStrategy = { task.exitStatus in [143,137,104,134,139] ? 'retry' : 'finish' }
   maxRetries = 1
   maxErrors = '-1'

   withName: 'PreQC|PostQC' {
       cpus = 5
       memory = 16.GB
       time = 2.h
   }
   withName: 'PreMultiQC|PostMultiQC' {
       cpus = 1
       memory = 4.GB
       time = 2.h
   }
   withName: 'Trimming|CoverageIndex' {
       cpus = 10
       memory = 32.GB
       time = 6.h
   }
   withName: 'MetaspadesAssembly|MegahitAssembly' {
       cpus = 30
       memory = 1000.GB
       time = {72.h + 48.h*task.attempt}
   }
   withName: 'Coverage' {
       cpus = 19
       memory = 120.GB
       time = 12.h
   }
   withName: 'Quast' {
       cpus = 19
       memory = 120.GB
       time = 2.h
   }   
   withName: 'Metabat2' {
       cpus = 1
       memory = 60.GB
       time = 6.h
   }   
   withName: 'CoCoNet' {
       cpus = 19
       memory = 120.GB
       time = 24.h
   }   
}